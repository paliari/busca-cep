(function(){!function(e){var t;return t=function(){function t(e,t){this.$el=e,this._url=t.url,this.returnConverter=t.returnConverter,this.find("[data-endereco-cep]").on("blur",function(e){return function(t){return e.getCep(t.target.value)}}(this))}return t.prototype.find=function(e){return this.$el.find(e)},t.prototype.setVal=function(e,t){return this.find(e).val(t)},t.prototype.getCep=function(t){var n;return t=t.replace(/\D/g,""),n=this._url.replace(":cep",t),t?(this.setMessage(),e.get(n,function(e){return function(t){return e.populate(t)}}(this))):void 0},t.prototype.populate=function(e){return e=this.returnConverter(e),e.city&&(this.setVal("[data-endereco-cidade-id]",e.city.id),this.setVal("[data-endereco-cidade]",e.city.nome+"-"+e.city.uf)),e.street&&this.setVal("[data-endereco-logradouro]",e.street.nome),e.neighborhood&&this.setVal("[data-endereco-bairro]",e.neighborhood.nome),1!==Number(e.resultado)?this.setMessage(e.message):void 0},t.prototype.setMessage=function(e){var t;return t=this.find("[data-endereco-message]"),e?t.addClass("alert alert-warning").html(e):t.removeClass("alert alert-warning").html("")},t}(),e.buscaCep=function(n,r){var i;return i=this,i.$el=e(n),i.el=n,i.$el.data("buscaCep",i),i.init=function(){return i.options=e.extend({},e.buscaCep.defaultOptions,r),new t(i.$el,i.options)},i.init()},e.buscaCep.defaultOptions={url:"/api/address/cep/:cep.json",returnConverter:function(e){return e}},e.fn.buscaCep=function(t){return this.each(function(){return new e.buscaCep(this,t)})}}(jQuery)}).call(this);
(function(){var e;e=function(){function e(t){this.$el=t,this._url=e.URL,this.find("[data-endereco-cep]").on("blur",function(e){return function(t){return e.get(t.target.value)}}(this))}return e.init=function(t,r){return e.URL=t||"/api/address/cep/:cep.json",e.format=r||{cidade_id:"city.id",cidade:"city",cidade_nome:"city.nome",cidade_uf:"city.uf",logradouro:"street.nome",bairro:"neighborhood.nome",mensagem:"message",resultado:"resultado"}},e.prototype.find=function(e){return this.$el.find(e)},e.prototype.get=function(e){var t;return e=e.replace(/\D/g,""),t=this._url.replace(":cep",e),e?(this.setMessage(),$.get(t,function(e){return function(t){return e.populate(t)}}(this))):void 0},e.prototype.populate=function(e){return e=this.convertData(e),console.log(e),this.find("[data-endereco-cidade-id]").val(e.cidade_id),this.find("[data-endereco-cidade]").val(e.cidade_nome+"-"+e.cidade_uf),this.find("[data-endereco-logradouro]").val(e.logradouro),this.find("[data-endereco-bairro]").val(e.bairro),1!==Number(e.resultado)?this.setMessage(e.mensagem):void 0},e.prototype.setMessage=function(e){var t;return t=this.find("[data-endereco-message]"),e?t.addClass("alert alert-warning").html(e):t.removeClass("alert alert-warning").html("")},e.prototype.convertData=function(t){var r,n,o;n={};for(r in e.format)o=this.refObj(t,e.format[r]),n[r]=o;return n},e.prototype.refObj=function(e,t){var r,n,o,a;for(a=t.split("."),n=0,o=a.length;o>n;n++)r=a[n],e&&(e=e[r]);return e},e}()}).call(this);